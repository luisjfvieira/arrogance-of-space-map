<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Arrogance Explorer</title>
    <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="map"></div>

    <div id="ui-panel">
        <h2 style="font-size:18px; margin:0 0 15px 0; color: #333;">Arrogance Explorer</h2>
        
        <div class="control-group">
            <label style="display: block; margin-bottom: 5px; font-weight: bold;">Basemap</label>
            <div style="display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" id="toggle-basemap" checked>
                <select id="layer-selector" style="flex-grow: 1;">
                    <option value="vector">Street Map (OSM)</option>
                    <option value="satellite">Satellite (Google)</option>
                </select>
            </div>
        </div>

        <hr>

        <div class="control-group">
            <label>Grid Opacity: <span id="opacity-val">60</span>%</label>
            <input type="range" id="opacity-slider" min="0" max="100" value="60">
        </div>

        <div class="control-group">
            <label>Subdivision Factor: <span id="split-val">4</span>x<span id="split-val-2">4</span></label>
            <input type="range" id="split-slider" min="2" max="10" step="1" value="4">
            <p style="font-size: 10px; color: #888; margin-top: 4px;">Higher values create more detail but may slow down the map.</p>
        </div>

        <hr>

        <div class="control-group">
            <label style="font-weight: bold; display: block; margin-bottom: 8px;">Tool Mode</label>
            <div class="mode-container" style="display: flex; gap: 5px;">
                <button id="btn-mode-pan" class="mode-
